## 知見

### ecr と.env について

この作り方では ecr には.env は push されないです  
entrypoint.sh は

```
コンテナが起動する際に動的に環境変数をファイルに書き込むことが可能となります。つまり、Dockerイメージ自体は環境変数の内容を含んでいませんが、コンテナが実行されるときにその環境変数の値が書き込まれます。
```

という使われ方をするため、直接.env を指定しているわけではないからです

まとめるとコンテナが実行されるタイミングで、entrypoint.sh が実行され、container_definitions に指定されている APP_ENV_VALUES がセットされます

そのため、ecr にある image を使用する際には、.env の値を指定する必要があります

### ecr について

このコードでは、本番と stg で ecr をわ k れるようにしていますが、上記の理由から、分けないで、いいかもしれません。  
というのも、ブランチ運用が、main->stg->prod のように、完全位守られていれば、stg で作成した image を使用できるためです  
ただこのやり方だと、main->prod へマージした際にそうするかわからないです。 致命的なバグが出た場合は、main->prod のマージを行うことが出てくるかもしれません。
